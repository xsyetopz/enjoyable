{
  "$schema": "../../Protocols/DS4.json",
  "device": {
    "vendorId": 1356,
    "productId": 1476,
    "name": "Sony DualShock 4 Controller"
  },
  "protocol": "ds4",
  "initialization": [
    {
      "description": "Enable HID output reports",
      "type": "control",
      "requestType": 33,
      "request": 9,
      "value": 769,
      "index": 2,
      "data": "1101"
    },
    {
      "description": "Set lightbar color",
      "type": "control",
      "requestType": 33,
      "request": 9,
      "value": 769,
      "index": 2,
      "data": "1305000000000000000000"
    }
  ],
  "reportDescriptor": {
    "reportSize": 64,
    "fields": [
      {
        "name": "buttons",
        "byte": 7,
        "bitOffset": 0,
        "bitLength": 16,
        "type": "bitfield"
      },
      {
        "name": "dpad",
        "byte": 7,
        "bitOffset": 0,
        "bitLength": 4,
        "type": "bitfield"
      },
      {
        "name": "leftStickX",
        "byte": 1,
        "bitOffset": 0,
        "bitLength": 8,
        "type": "unsigned"
      },
      {
        "name": "leftStickY",
        "byte": 2,
        "bitOffset": 0,
        "bitLength": 8,
        "type": "unsigned"
      },
      {
        "name": "rightStickX",
        "byte": 3,
        "bitOffset": 0,
        "bitLength": 8,
        "type": "unsigned"
      },
      {
        "name": "rightStickY",
        "byte": 4,
        "bitOffset": 0,
        "bitLength": 8,
        "type": "unsigned"
      },
      {
        "name": "leftTrigger",
        "byte": 5,
        "bitOffset": 0,
        "bitLength": 8,
        "type": "unsigned"
      },
      {
        "name": "rightTrigger",
        "byte": 6,
        "bitOffset": 0,
        "bitLength": 8,
        "type": "unsigned"
      },
      {
        "name": "battery",
        "byte": 30,
        "bitOffset": 0,
        "bitLength": 8,
        "type": "unsigned"
      },
      {
        "name": "touchpad",
        "byte": 35,
        "bitOffset": 0,
        "bitLength": 16,
        "type": "bitfield"
      }
    ]
  },
  "mappings": {
    "buttons": {
      "bit0": "cross",
      "bit1": "circle",
      "bit2": "square",
      "bit3": "triangle",
      "bit4": "L1",
      "bit5": "R1",
      "bit6": "share",
      "bit7": "options",
      "bit8": "L3",
      "bit9": "R3",
      "bit10": "PS",
      "bit11": "touchpad"
    },
    "dpad": {
      "bits": {
        "bit0": "up",
        "bit1": "down",
        "bit2": "left",
        "bit3": "right"
      }
    }
  },
  "quirks": [
    {
      "name": "ds4_touchpad",
      "enabled": true
    },
    {
      "name": "ds4_lightbar",
      "enabled": true
    },
    {
      "name": "ds4_share_button",
      "enabled": true
    }
  ]
}
